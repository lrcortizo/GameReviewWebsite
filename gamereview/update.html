<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<link rel="stylesheet" href="style.css">
	<title>Game Review</title>
	<script type="text/javascript">
		function hideError() {
			document.getElementById( "dvError" ).style.display = "none";
		}

		function showError(msg) {
			var dvError = document.getElementById( "dvError" );
			var pError = document.createElement( "p" );

			dvError.innerHTML = "";
			dvError.appendChild( pError );
			pError.appendChild( document.createTextNode( msg ) );
			dvError.style.display = "block";
		}

		function chk() {
			var toret = true;
			var edName = document.getElementById( "edName" );
			var edSeason = document.getElementById( "edSeason" );
			var edEpisode = document.getElementById( "edEpisode" );

			hideError();

			if ( edName.value.trim().length == 0 ) {
				showError( "Name is mandatory" );
				toret = false;
			}

			var season = parseInt( edSeason.value, 10 );
			var episode = parseInt( edEpisode.value, 10 );

			if ( season < 1 ) {
				showError( "Season must be an integer greater than 0" );
				toret = false;
			}

			if ( episode < 1 ) {
				showError( "Episode must be an integer greater than 0" );
				toret = false;
			}

			return toret;
		}
	</script>
</head>
<header>
	<div class="headercontent">
		<a  href="/"><img id="logo" src="./res/logo.png"></a>
	</div>
	<div class="headercontent">
		<a id="indexlink" href="/">Game Review</a>
	</div>
	<div class="headercontent">
		{% if user_name == "Please login" %}
			<a href="{{access_link}}">Login</a>
		{% else %}
			<div class="profile">
				<ul id="nav">
  	        		<div class="menu">{{user_name}}</br>â–¼
						<ul>
							<div class="submenu"><a href="/usergames">My games</a></div>
							<div class="submenu"><a href="{{access_link}}">Logout</a></div>
              			</ul>
  	        		</div>
  	      		</ul>
			</div>
		{% endif %}
	</div>
</header>
<body>
<div class="title">
<p class="tittletext">Modify Game</p>
</div>
<form class="gameform"
	onsubmit="javascript: return chk();"
	action="/update?id={{game.key.urlsafe()}}" method="post">
	Name: </br><input class="textinput" type="text" name="name" id="edName" size="80"
			value="{{game.name}}">
	</br></br>
	Description: </br><input class="textinput" type="text" name="description" id="edDescription" size="80"
			value="{{game.description}}">
	</br></br>
	Company: </br><input class="textinput" type="text" name="company" id="edCompany" size="80"
			value="{{game.company}}">
	</br></br>
	Web: </br><input class="textinput" type="text" name="web" id="edWeb" size="80"
			value="{{game.web}}">
		</br></br>
	Picture Url: </br><input class="textinput" type="text" name="picture" id="edPicture" size="80"
			value="{{game.picture}}">
	</br></br>
		<input type="image"
			class="button"
		 	title="modify" alt="modify"
			width="16px" height="16px" src="/res/update.svg"
			onsubmit="javascript: document.gameform.submit()"/>
</form>
</body>
</html>
